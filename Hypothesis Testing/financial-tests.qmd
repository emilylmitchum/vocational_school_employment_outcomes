---
title: "DSAN 5100 Hypothesis Testing"
author: "Emily Mitchum"
format: 
  html:
    embed-resources: true
    code-fold: false
editor: visual
toc: true
---

# Imports

```{r}
library(stats)
library(ggplot2)
library(dplyr)
```

# Read in Clean Data

```{r}
earnings_df <-read.csv('/Users/Emi/Library/CloudStorage/GoogleDrive-emilymitchum265@gmail.com/Shared drives/DSAN/DSAN 5100/Final Project/vocational_school_employment_outcomes/Cleaned data/Cleaned_quarterly_earnings_data.csv')
head(earnings_df)
```

# ANOVA on Quarterly Median Weekly Earnings Data

```{r}
# Correct data types before ANOVA
earnings_df <- earnings_df %>%
  mutate(
    year = factor(format(as.Date(date), "%Y")),
    education_level = factor(education_level)
  )
```

## Visual Analysis of Earnings by Education Level

```{r}
ggplot(earnings_df, aes(x = education_level, y = median_weekly_earnings, fill = education_level )) +
  geom_boxplot(alpha = 0.8, outlier.color = "gray40") +
  labs(
    title = "Median Weekly Earnings by Education Level",
    x = "Education Level",
    y = "Median Weekly Earnings",
    fill = "Education Level"
  ) 
```

## One-Way ANOVA (Ignoring Time)

```{r}
oneway <- aov(median_weekly_earnings ~ education_level, data = earnings_df)
summary(oneway)
```

The one-way ANOVA test revealed a highly significant effect of education level on median weekly earnings. This indicates that mean earnings differ substantially across the three education groups.

```{r}
model_two_way <- aov(median_weekly_earnings ~ education_level * year, data = earnings_df)

summary(model_two_way)
```

Bachelorâ€™s degree holders consistently earn much more than those with some college/associate degrees, who in turn earn more than those with only a high school diploma.